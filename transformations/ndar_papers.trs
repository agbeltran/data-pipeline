/* Study Information */
transform column "$.'identifier'" to "Study.identifier";
transform column "$.'Title'" to "Study.name";
transform column "$.'Investigators'" to "Study.performedBy";
transform column "$.'Measures'[*]['Data Structure']" to "Study.schedulesDataAcquisition";
transform column "$.'Types'.'Study Type'" to "Study.types";

/* Results */
transform column "$.'Results'[*]" to "Study.resultsIn[].title" apply {{
copy = value[:]
result = value.split("Title\":\"")[1].split("\",\"URL\"")[0]
}};
transform column "$.'Results'[*]" to "Study.resultsIn[].downloadURL" apply {{
result = copy.split("URL\":\"")[1].split("\"}")[0]
}};


/* schedulesDataAcquisition 'uses' field, using instrument schema*/ --> DIMENSION
transform column "$.'Measures'[*]['Data Structure']" to "Study.schedulesDataAcquisition[].uses.name";

/* Material */
transform column "$.'Cohorts'[*]['Type']" to "Material[].name";
transform column "$.'Cohorts'[*]['Age']" to "Material[].characteristic.age";
transform column "$.'Cohorts'[*]['Gender']" to "Material[].characteristic.gender";

/* Items not included 
transform column "$.'identifierScheme'" to "Study.identifierScheme";
transform column "$.'Abstract'" to "Study.description";
*/
