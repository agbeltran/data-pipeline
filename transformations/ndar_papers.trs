/* Study Information */
transform column "$.'identifier'" to "Study.identifier";
transform column "$.'Title'" to "Study.name";
transform column "$.'Investigators'" to "Study.performedBy";
transform column "$.'Measures'[*]['Data Structure']" to "Study.schedulesDataAcquisition";
transform column "$.'Types'.'Study Type'" to "Study.types";

/* Results */
transform column "$.'Results'[*]" to "Study.resultsIn[].title" apply {{
copy = value[:]
result = value.split("Title\":\"")[1].split("\",\"URL\"")[0]
}};
transform column "$.'Results'[*]" to "Study.resultsIn[].downloadURL" apply {{
result = copy.split("URL\":\"")[1].split("\"}")[0]
}};


/* TODO: Get the Elements information from Measures, and put into schedulesDataAcquisition[].measures[]*/

/* Material */
transform column "$.'Cohorts'[*]['Type']" to "Material[].name";
transform column "$.'Cohorts'[*]['Age']" to "Material[].Characteristic[0].values[0]";
transform column "$.'Cohorts'[*]['Age']" to "Material[].hasCharacteristic[0].name" apply {{ result = "Age" }};
transform column "$.'Cohorts'[*]['Gender']" to "Material[].hasCharacteristic[1].values[0]";
transform column "$.'Cohorts'[*]['Gender']" to "Material[].hasCharacteristic[1].name" apply {{ result = "Gender" }};
/* Items not included */
transform column "$.'identifierScheme'" to "Study.identifierScheme";
transform column "$.'Abstract'" to "Study.description";
